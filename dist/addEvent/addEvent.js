"use strict";angular.module("myApp.addEvent",["ngRoute"]).config(["$routeProvider",function(e){e.when("/addEvent",{templateUrl:"addEvent/addEvent.html",controller:"AddEventCtrl"})}]).controller("AddEventCtrl",["$scope","$firebase","$location","CommonProp",function(e,t,n,o){o.getUser()||n.path("/home");var a={};e.login=a,e.logout=function(){o.logoutUser()},e.checkDate=function(){console.log(e.event.startdatetime),e.errMessage="";var t=new Date;return console.log(t),e.event.startdatetime>e.event.enddatetime?(e.errMessage="End Date should be greater than start date",!1):e.event.startdatetime<t?(e.errMessage="Start date should not be before today.",!1):void 0},e.AddEvent=function(){var a=e.event.name,r=e.event.type,s=e.event.host,d=e.event.startdatetime,i=e.event.enddatetime,l=e.event.guests,v=e.event.location,g=e.event.message,c=new Firebase("https://event-manager-app.firebaseio.com/Events"),m=t(c),u=o.getUser();m.$push({name:a,type:r,host:s,startdatetime:d.toString(),enddatetime:i.toString(),guests:l,location:v,message:g?g:"",emailID:o.getUser(),".priority":u}).then(function(e){console.log(e),n.path("/welcome")},function(e){console.log("error:",e)})}}]);