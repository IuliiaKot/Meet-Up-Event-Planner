"use strict";angular.module("myApp.home",["ngRoute","firebase"]).config(["$routeProvider",function(e){e.when("/home",{templateUrl:"home/home.html",controller:"HomeCtrl"})}]).controller("HomeCtrl",["$scope","$location","CommonProp","$firebaseAuth",function(e,o,t,n){var a=new Firebase("https://event-manager-app.firebaseio.com/"),r=n(a),i={};e.login=i,e.user={},e.SignIn=function(n){n.preventDefault();var a=e.user.email,l=e.user.password;i.loading=!0,r.$authWithPassword({email:a,password:l}).then(function(e){console.log("Authentication successful"),i.loading=!1,t.setUser(e.password.email),o.path("/welcome")},function(e){i.loading=!1,console.log("Authentication failure")})}}]).service("CommonProp",["$location","$firebaseAuth",function(e,o){var t="",n=new Firebase("https://event-manager-app.firebaseio.com/Events"),a=o(n);return{getUser:function(){return""===t&&(console.log(t),t=localStorage.getItem("userEmail")),t},setUser:function(e){localStorage.setItem("userEmail",e),t=e},logoutUser:function(){a.$unauth(),t="",localStorage.clear(),console.log("done logout"),e.path("/home")}}}]).directive("laddaLoading",[function(){return{link:function(e,o,t){var n=window.Ladda,a=n.create(o[0]);e.$watch(t.laddaLoading,function(e,o){e?a.start():a.stop()})}}}]);